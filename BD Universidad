CREATE USER UNIVERSIDAD IDENTIFIED BY UNIVERSIDAD

CREATE TABLE UNIVERSIDAD 
(ID_UNI NUMBER PRIMARY KEY,
NOM_UNI VARCHAR (50) NOT NULL);

CREATE TABLE CAMPUS
(ID_CAM NUMBER PRIMARY KEY,
NOM_CAM VARCHAR(50) NOT NULL,
CIU_CAM VARCHAR (20) NOT NULL,
ID_UNI_PER NUMBER REFERENCES UNIVERSIDAD(ID_UNI));

CREATE TABLE FACULTAD
(ID_FAC NUMBER PRIMARY KEY,
NOM_FAC VARCHAR(50) NOT NULL,
ID_CAM_PER NUMBER REFERENCES CAMPUS (ID_CAM));

SELECT C.NOM_CAM, CA.NOM_CAR, S.TOTAL_CUP, S.CUP_DIS
FROM CAMPUS C, CARRERAS CA, SEMESTRE S, FACULTAD F
WHERE CUP_DIS < 20 
AND NOM_CAR = 'ECONOMIA'
AND NOM_CAM = 'CAMPUS HUACHI'
AND C.ID_CAM = F.ID_CAM_PER
AND F.ID_FAC = CA.ID_FAC_PER
AND CA.ID_CAR = S.ID_CAR_PER;

INSERT INTO UNIVERSIDAD VALUES(1,'UNIVERSIDAD TECNICA DE AMBATO');

INSERT INTO CAMPUS VALUES(101,'CAMPUS QUEROCHACA','AMBATO',1);
INSERT INTO CAMPUS VALUES(102,'CAMPUS HUACHI','AMBATO',1);
INSERT INTO CAMPUS VALUES(103,'CAMPUS INGAHURCO','AMBATO',1);

INSERT INTO FACULTAD VALUES(201,'FACULTAD DE INGENIERIA',102);
INSERT INTO FACULTAD VALUES(202,'FACULTAD DE ECONOMIA',102);
INSERT INTO FACULTAD VALUES(203,'FACULTAD CIENCIAS DE LA SALUD',103);
INSERT INTO FACULTAD VALUES(204,'CIENCIAS AGROPECUARIO',103);
--------------------------------------------------------------
Se adiciona las tablas carreras y semestres 

CREATE TABLE CARRERAS
(ID_CAR NUMBER PRIMARY KEY,
NOM_CAR VARCHAR(50) NOT NULL,
ID_FAC_PER NUMBER REFERENCES FACULTAD(ID_FAC));

CREATE TABLE SEMESTRE
(ID_SEM NUMBER PRIMARY KEY,
CUP_DIS INT NOT NULL,
TOTAL_CUP INT NOT NULL,
ID_CAR_PER NUMBER REFERENCES CARRERAS(ID_CAR));

INSERT INTO CARRERAS VALUES(301,'SOFTWARE',201);
INSERT INTO CARRERAS VALUES(302,'ECONOMIA',202);
INSERT INTO CARRERAS VALUES(303,'ENFERMERIA',203);
INSERT INTO CARRERAS VALUES(304,'MEDICINA',203);
INSERT INTO CARRERAS VALUES(305,'PSICOLOGIA CLINICA',203);
INSERT INTO CARRERAS VALUES(306,'TELECOMUNICACION',201);
INSERT INTO CARRERAS VALUES(307,'AGRONOMIA',204);
INSERT INTO CARRERAS VALUES(308,'MEDICINA VETERINARIA',204);

INSERT INTO SEMESTRE VALUES(401,25,30,301); -- SOFTWARE
INSERT INTO SEMESTRE VALUES(402,20,25,302); -- ECONOMIA
INSERT INTO SEMESTRE VALUES(403,15,20,303); -- ENFERMERIA
INSERT INTO SEMESTRE VALUES(404,10,20,304); -- MEDICINA
INSERT INTO SEMESTRE VALUES(405,10,25,302);
---------
Consultas

SELECT C.NOM_CAM, CA.NOM_CAR
FROM CAMPUS C, FACULTAD F, CARREARAS CA
WHERE C.ID_CAM = F.ID_CAM_PER
AND F.ID_FAC = CA.ID_FAC_PER;


SELECT C.NOM_CAR, S.TOTAL_CUP
FROM CARRERAS C, SEMESTRE S
WHERE C.ID_CAR = S.ID_CAR_PER;
